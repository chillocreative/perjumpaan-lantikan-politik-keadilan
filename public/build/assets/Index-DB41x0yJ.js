import{r as g,w as A,c as r,e as y,u as a,f as U,g as k,j as t,p as o,k as n,z as d,l as b,m as F,x as L,F as x,q as v,B as h,C as _,A as P,y as H,b as S,D as E}from"./app-DT5ftLv7.js";import{_ as z}from"./AuthenticatedLayout-DtLd4MU3.js";import{u as I}from"./useDragScroll-QF_nXnLb.js";const O={class:"flex items-center justify-between"},W={class:"py-12"},$={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},q={key:0,class:"mb-4 rounded-md bg-emerald-400/15 p-4 ring-1 ring-emerald-400/20"},J={class:"text-sm text-emerald-300"},G={key:1,class:"mb-4 rounded-md bg-red-400/15 p-4 ring-1 ring-red-400/20"},Q={class:"text-sm text-red-300"},R={class:"mb-4 flex flex-wrap items-end gap-4"},X={class:"w-full sm:w-auto"},Y={class:"w-full sm:w-auto"},Z={key:0,class:"w-full sm:w-auto"},ee=["value"],te=["href"],se={class:"overflow-hidden rounded-2xl bg-white/10 shadow-lg backdrop-blur-md ring-1 ring-white/15"},ae={class:"min-w-full divide-y divide-white/10"},oe={class:"bg-white/5"},re={key:0,class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60 whitespace-nowrap"},ie={class:"divide-y divide-white/10"},le={class:"whitespace-nowrap px-6 py-4 uppercase"},ne={class:"whitespace-nowrap px-6 py-4 text-sm text-sky-200/50 uppercase"},de={class:"whitespace-nowrap px-6 py-4"},pe={class:"inline-flex items-center rounded-full bg-sky-400/15 px-2.5 py-0.5 text-xs font-medium text-sky-300 ring-1 ring-sky-400/20 uppercase"},ue={class:"whitespace-nowrap px-6 py-4 text-sm text-sky-200/50 uppercase"},me={key:0,class:"whitespace-nowrap px-6 py-4 text-sm text-sky-200/50 uppercase"},xe={class:"whitespace-nowrap px-6 py-4 text-sm text-sky-200/50 uppercase"},ce={class:"px-6 py-4 text-sm text-sky-200/50 uppercase min-w-[12rem]"},ke={class:"whitespace-nowrap px-6 py-4 text-right text-sm"},ye=["onClick"],he={key:0},we=["colspan"],fe={key:2,class:"mt-4 flex justify-center"},ge=["innerHTML"],Ce={__name:"Index",props:{members:Object,filters:Object,mpkkList:Array},setup(u){const w=u,m=E(),c=g(w.filters.search||""),l=g(w.filters.category||""),p=g(w.filters.mpkk||""),{scrollEl:V,onMouseDown:M,onMouseLeave:C,onMouseUp:K,onMouseMove:T}=I();function f(){const i={};c.value&&(i.search=c.value),l.value&&(i.category=l.value),l.value==="mpkk"&&p.value&&(i.mpkk=p.value),S.get(route("members.index"),i,{preserveState:!0,replace:!0})}A(c,()=>f());function j(){p.value="",f()}function D(){f()}A(l,i=>{i!=="mpkk"&&(p.value="")});function N(i){confirm("Adakah anda pasti mahu memadam ahli ini?")&&S.delete(route("members.destroy",i))}const B={matc:"Cabang",amk:"AMK",wanita:"Wanita Cabang",mpkk:"MPKK"};return(i,e)=>(o(),r(x,null,[y(a(U),{title:"Ahli"}),y(z,null,{header:k(()=>[t("div",O,[e[8]||(e[8]=t("h2",{class:"text-xl font-semibold leading-tight text-white"},"Senarai Ahli",-1)),a(m).props.auth.user.is_admin?(o(),P(a(h),{key:0,href:i.route("members.create"),class:"inline-flex items-center rounded-md bg-sky-500 px-3 py-2 text-sm font-semibold text-white shadow-lg shadow-sky-500/30 hover:bg-sky-400"},{default:k(()=>[...e[7]||(e[7]=[_(" Tambah Ahli ",-1)])]),_:1},8,["href"])):d("",!0)])]),default:k(()=>[t("div",W,[t("div",$,[a(m).props.flash.success?(o(),r("div",q,[t("p",J,n(a(m).props.flash.success),1)])):d("",!0),a(m).props.flash.error?(o(),r("div",G,[t("p",Q,n(a(m).props.flash.error),1)])):d("",!0),t("div",R,[t("div",X,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-sky-100/80 mb-1"},"Cari",-1)),b(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>c.value=s),type:"text",placeholder:"Cari ahli...",class:"w-full rounded-md border-0 bg-white/10 text-white ring-1 ring-white/15 placeholder-sky-200/40 focus:ring-2 focus:ring-sky-400 sm:w-64"},null,512),[[F,c.value]])]),t("div",Y,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-sky-100/80 mb-1"},"Kategori",-1)),b(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>l.value=s),onChange:j,class:"w-full rounded-md border-0 bg-white/10 text-white ring-1 ring-white/15 focus:ring-2 focus:ring-sky-400 sm:w-48"},[...e[10]||(e[10]=[t("option",{value:"",class:"bg-sky-900 text-white"},"Semua",-1),t("option",{value:"matc",class:"bg-sky-900 text-white"},"Cabang",-1),t("option",{value:"wanita",class:"bg-sky-900 text-white"},"Wanita Cabang",-1),t("option",{value:"amk",class:"bg-sky-900 text-white"},"AMK",-1),t("option",{value:"mpkk",class:"bg-sky-900 text-white"},"MPKK",-1)])],544),[[L,l.value]])]),l.value==="mpkk"?(o(),r("div",Z,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-sky-100/80 mb-1"},"MPKK",-1)),b(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>p.value=s),onChange:D,class:"w-full rounded-md border-0 bg-white/10 text-white ring-1 ring-white/15 focus:ring-2 focus:ring-sky-400 sm:w-64"},[e[12]||(e[12]=t("option",{value:"",class:"bg-sky-900 text-white"},"Semua MPKK",-1)),(o(!0),r(x,null,v(u.mpkkList,s=>(o(),r("option",{key:s,value:s,class:"bg-sky-900 text-white"},n(s),9,ee))),128))],544),[[L,p.value]])])):d("",!0),l.value?(o(),r("a",{key:1,href:i.route("export.members.pdf",{category:l.value,mpkk:p.value||void 0},!1),class:"inline-flex items-center rounded-md bg-emerald-600 px-3 py-2 text-sm font-semibold text-white shadow-lg shadow-emerald-600/30 hover:bg-emerald-500"}," Muat Turun PDF ",8,te)):d("",!0)]),t("div",se,[t("div",{ref_key:"scrollEl",ref:V,class:"overflow-x-auto cursor-grab",onMousedown:e[3]||(e[3]=(...s)=>a(M)&&a(M)(...s)),onMouseleave:e[4]||(e[4]=(...s)=>a(C)&&a(C)(...s)),onMouseup:e[5]||(e[5]=(...s)=>a(K)&&a(K)(...s)),onMousemove:e[6]||(e[6]=(...s)=>a(T)&&a(T)(...s))},[t("table",ae,[t("thead",oe,[t("tr",null,[e[14]||(e[14]=t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60 whitespace-nowrap"},"Nama",-1)),e[15]||(e[15]=t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60 whitespace-nowrap"},"No. IC",-1)),e[16]||(e[16]=t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60 whitespace-nowrap"},"Kategori",-1)),e[17]||(e[17]=t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60 whitespace-nowrap"},"Jawatan",-1)),l.value==="mpkk"?(o(),r("th",re,"MPKK")):d("",!0),e[18]||(e[18]=t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60 whitespace-nowrap"},"Telefon",-1)),e[19]||(e[19]=t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60 whitespace-nowrap"},"Alamat",-1)),e[20]||(e[20]=t("th",{class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-sky-200/60 whitespace-nowrap"},"Tindakan",-1))])]),t("tbody",ie,[(o(!0),r(x,null,v(u.members.data,s=>(o(),r("tr",{key:s.id,class:"hover:bg-white/5"},[t("td",le,[y(a(h),{href:i.route("members.show",s.id),class:"text-sky-300 hover:text-sky-200"},{default:k(()=>[_(n(s.name),1)]),_:2},1032,["href"])]),t("td",ne,n(s.ic_number),1),t("td",de,[t("span",pe,n(s.category_type==="mpkk"?s.position_name||"MPKK":B[s.category_type]||s.category_type),1)]),t("td",ue,n(s.position_type||"-"),1),l.value==="mpkk"?(o(),r("td",me,n(s.position_name||"-"),1)):d("",!0),t("td",xe,n(s.phone_number),1),t("td",ce,n(s.address||"-"),1),t("td",ke,[a(m).props.auth.user.is_admin?(o(),r(x,{key:0},[y(a(h),{href:i.route("members.edit",s.id),class:"text-sky-300 hover:text-sky-200 mr-3"},{default:k(()=>[...e[21]||(e[21]=[_("Ubah",-1)])]),_:1},8,["href"]),t("button",{onClick:be=>N(s.id),class:"text-red-300 hover:text-red-200"},"Padam",8,ye)],64)):d("",!0)])]))),128)),u.members.data.length?d("",!0):(o(),r("tr",he,[t("td",{colspan:l.value==="mpkk"?8:7,class:"px-6 py-4 text-center text-sm text-sky-200/50"},"Tiada ahli dijumpai.",8,we)]))])])],544)]),u.members.links.length>3?(o(),r("div",fe,[(o(!0),r(x,null,v(u.members.links,s=>(o(),r(x,{key:s.label},[s.url?(o(),P(a(h),{key:0,href:s.url,innerHTML:s.label,class:H(["mx-1 rounded border px-3 py-1 text-sm",s.active?"bg-sky-500 text-white border-sky-500":"bg-white/10 text-sky-100 border-white/15 hover:bg-white/20"])},null,8,["href","innerHTML","class"])):(o(),r("span",{key:1,innerHTML:s.label,class:"mx-1 rounded border border-white/10 bg-white/5 px-3 py-1 text-sm text-sky-300/40"},null,8,ge))],64))),128))])):d("",!0)])])]),_:1})],64))}};export{Ce as default};
