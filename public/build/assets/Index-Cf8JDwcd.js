import{r as k,c as i,e as h,u,f as P,g as x,j as e,p as a,k as r,z as l,l as w,F as c,q as b,x as f,A as S,B as A,C as N,y as V,D as j,b as B}from"./app-CXiLWt2D.js";import{_ as D}from"./AuthenticatedLayout-o-9foDAH.js";const F={class:"py-12"},L={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},T={key:0,class:"mb-4 rounded-md bg-emerald-400/15 p-4 ring-1 ring-emerald-400/20"},O={class:"text-sm text-emerald-300"},z={class:"mb-4"},H=["value"],I={key:1,class:"mb-4"},R={key:2,class:"overflow-hidden rounded-2xl bg-white/10 shadow-lg backdrop-blur-md ring-1 ring-white/15"},U={class:"p-6"},W={class:"flex items-center justify-between mb-4"},q={class:"text-lg font-medium text-white"},E={class:"flex items-center gap-2"},J=["href"],$={class:"overflow-x-auto"},G={key:0,class:"min-w-full divide-y divide-white/10"},Q={class:"bg-white/5"},X={key:0,class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60"},Y={class:"divide-y divide-white/10"},Z={class:"whitespace-nowrap px-6 py-4 text-sm text-white uppercase"},ee={class:"whitespace-nowrap px-6 py-4 text-sm text-sky-200/50 uppercase"},te={class:"whitespace-nowrap px-6 py-4 text-sm text-sky-200/80 uppercase"},se={class:"whitespace-nowrap px-6 py-4 text-sm text-sky-200/50 uppercase"},ae={key:0,class:"whitespace-nowrap px-6 py-4 text-sm text-sky-200/50 uppercase"},ie={class:"px-6 py-4 text-sm text-sky-200/80 uppercase"},re={class:"whitespace-nowrap px-6 py-4"},ne={class:"px-6 py-4 text-sm text-sky-200/50 uppercase"},oe={key:0,class:"text-sm text-sky-200/50 mt-4"},le={key:3,class:"overflow-hidden rounded-2xl bg-white/10 shadow-lg backdrop-blur-md ring-1 ring-white/15"},ue={__name:"Index",props:{meetings:Object,meeting:Object,attendances:Array,filters:Object},setup(o){const g=o,p=j(),d=k(g.filters.meeting_id||""),n=k(g.filters.category||"");function y(){const m={meeting_id:d.value};n.value&&(m.category=n.value),B.get(route("attendances.index"),m,{preserveState:!0,replace:!0})}function v(){n.value="",y()}function _(){y()}const C={matc:"Cabang",amk:"AMK",wanita:"Wanita Cabang",mpkk:"MPKK"},K={present:"Hadir",absent:"Tidak Hadir",late:"Lewat",excused:"Dimaafkan"},M={present:"bg-emerald-400/15 text-emerald-300 ring-1 ring-emerald-400/20",absent:"bg-red-400/15 text-red-300 ring-1 ring-red-400/20",late:"bg-yellow-400/15 text-yellow-300 ring-1 ring-yellow-400/20",excused:"bg-white/10 text-sky-200 ring-1 ring-white/15"};return(m,t)=>(a(),i(c,null,[h(u(P),{title:"Kehadiran"}),h(D,null,{header:x(()=>[...t[2]||(t[2]=[e("h2",{class:"text-xl font-semibold leading-tight text-white"},"Rekod Kehadiran",-1)])]),default:x(()=>[e("div",F,[e("div",L,[u(p).props.flash.success?(a(),i("div",T,[e("p",O,r(u(p).props.flash.success),1)])):l("",!0),e("div",z,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium text-sky-100/80 mb-1"},"Pilih Mesyuarat",-1)),w(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>d.value=s),onChange:v,class:"w-full rounded-md border-0 bg-white/10 text-white ring-1 ring-white/15 focus:ring-2 focus:ring-sky-400 sm:max-w-md"},[t[3]||(t[3]=e("option",{value:"",class:"bg-sky-900 text-white"},"-- Pilih Mesyuarat --",-1)),(a(!0),i(c,null,b(o.meetings.data,s=>(a(),i("option",{key:s.id,value:s.id,class:"bg-sky-900 text-white"},r(s.title)+" ("+r(s.date)+") ",9,H))),128))],544),[[f,d.value]])]),d.value?(a(),i("div",I,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-sky-100/80 mb-1"},"Kategori",-1)),w(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>n.value=s),onChange:_,class:"w-full rounded-md border-0 bg-white/10 text-white ring-1 ring-white/15 focus:ring-2 focus:ring-sky-400 sm:max-w-md"},[...t[5]||(t[5]=[e("option",{value:"",class:"bg-sky-900 text-white"},"Semua",-1),e("option",{value:"matc",class:"bg-sky-900 text-white"},"Cabang",-1),e("option",{value:"wanita",class:"bg-sky-900 text-white"},"Wanita Cabang",-1),e("option",{value:"amk",class:"bg-sky-900 text-white"},"AMK",-1),e("option",{value:"mpkk",class:"bg-sky-900 text-white"},"MPKK",-1)])],544),[[f,n.value]])])):l("",!0),o.meeting?(a(),i("div",R,[e("div",U,[e("div",W,[e("h3",q,r(o.meeting.title),1),e("div",E,[n.value?(a(),i("a",{key:0,href:m.route("export.attendance.pdf",{meeting_id:d.value,category:n.value}),class:"inline-flex items-center rounded-md bg-emerald-600 px-3 py-2 text-sm font-semibold text-white shadow-lg shadow-emerald-600/30 hover:bg-emerald-500"}," Muat Turun PDF ",8,J)):l("",!0),u(p).props.auth.user.is_admin?(a(),S(u(A),{key:1,href:m.route("attendances.mark",o.meeting.id),class:"inline-flex items-center rounded-md bg-sky-500 px-3 py-2 text-sm font-semibold text-white shadow-lg shadow-sky-500/30 hover:bg-sky-400"},{default:x(()=>[...t[7]||(t[7]=[N(" Rekod Kehadiran ",-1)])]),_:1},8,["href"])):l("",!0)])]),e("div",$,[o.attendances.length?(a(),i("table",G,[e("thead",Q,[e("tr",null,[t[8]||(t[8]=e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60"},"Nama Ahli",-1)),t[9]||(t[9]=e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60"},"No. IC",-1)),t[10]||(t[10]=e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60"},"Kategori",-1)),t[11]||(t[11]=e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60"},"Jawatan",-1)),n.value==="mpkk"?(a(),i("th",X,"MPKK")):l("",!0),t[12]||(t[12]=e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60"},"Alamat",-1)),t[13]||(t[13]=e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60"},"Status",-1)),t[14]||(t[14]=e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60"},"Sebab",-1))])]),e("tbody",Y,[(a(!0),i(c,null,b(o.attendances,s=>(a(),i("tr",{key:s.id,class:"hover:bg-white/5"},[e("td",Z,r(s.member?.name),1),e("td",ee,r(s.member?.ic_number),1),e("td",te,r(s.member?.category_type==="mpkk"?s.member?.position_name||"MPKK":C[s.member?.category_type]||"-"),1),e("td",se,r(s.member?.position_type||"-"),1),n.value==="mpkk"?(a(),i("td",ae,r(s.member?.position_name||"-"),1)):l("",!0),e("td",ie,r(s.member?.address||"-"),1),e("td",re,[e("span",{class:V(["inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium",M[s.status]||"bg-white/10 text-sky-200 ring-1 ring-white/15"])},r(K[s.status]||s.status),3)]),e("td",ne,r(s.status==="absent"&&s.absence_reason||"-"),1)]))),128))])])):l("",!0)]),o.attendances.length?l("",!0):(a(),i("p",oe,"Tiada rekod kehadiran untuk mesyuarat ini."))])])):(a(),i("div",le,[...t[15]||(t[15]=[e("div",{class:"p-6 text-center text-sm text-sky-200/50"}," Sila pilih mesyuarat untuk melihat rekod kehadiran. ",-1)])]))])])]),_:1})],64))}};export{ue as default};
