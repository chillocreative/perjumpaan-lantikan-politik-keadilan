import{r as w,w as A,c as i,e as h,u as l,f as P,g as x,j as e,p as a,k as n,z as d,l as b,m as j,x as L,F as c,q as v,B as y,C as k,A as _,y as N,b as C,D as V}from"./app-Co0SLnrY.js";import{_ as B}from"./AuthenticatedLayout-ol7xWfC3.js";const S={class:"flex items-center justify-between"},D={class:"py-12"},F={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},H={key:0,class:"mb-4 rounded-md bg-emerald-400/15 p-4 ring-1 ring-emerald-400/20"},U={class:"text-sm text-emerald-300"},z={class:"mb-4 flex flex-wrap items-end gap-4"},I=["href"],O={class:"overflow-hidden rounded-2xl bg-white/10 shadow-lg backdrop-blur-md ring-1 ring-white/15"},W={class:"overflow-x-auto"},$={class:"min-w-full divide-y divide-white/10"},q={class:"bg-white/5"},E={key:0,class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60"},J={class:"divide-y divide-white/10"},G={class:"whitespace-nowrap px-6 py-4 uppercase"},Q={class:"whitespace-nowrap px-6 py-4 text-sm text-sky-200/50 uppercase"},R={class:"whitespace-nowrap px-6 py-4"},X={class:"inline-flex items-center rounded-full bg-sky-400/15 px-2.5 py-0.5 text-xs font-medium text-sky-300 ring-1 ring-sky-400/20 uppercase"},Y={class:"whitespace-nowrap px-6 py-4 text-sm text-sky-200/50 uppercase"},Z={key:0,class:"whitespace-nowrap px-6 py-4 text-sm text-sky-200/50 uppercase"},ee={class:"whitespace-nowrap px-6 py-4 text-sm text-sky-200/50 uppercase"},te={class:"px-6 py-4 text-sm text-sky-200/50 uppercase"},se={class:"whitespace-nowrap px-6 py-4 text-right text-sm"},ae=["onClick"],ie={key:0},re=["colspan"],oe={key:1,class:"mt-4 flex justify-center"},le=["innerHTML"],ue={__name:"Index",props:{members:Object,filters:Object},setup(p){const f=p,m=V(),u=w(f.filters.search||""),o=w(f.filters.category||"");function g(){const r={};u.value&&(r.search=u.value),o.value&&(r.category=o.value),C.get(route("members.index"),r,{preserveState:!0,replace:!0})}A(u,()=>g());function M(){g()}function K(r){confirm("Adakah anda pasti mahu memadam ahli ini?")&&C.delete(route("members.destroy",r))}const T={matc:"Cabang",amk:"AMK",wanita:"Wanita Cabang",mpkk:"MPKK"};return(r,t)=>(a(),i(c,null,[h(l(P),{title:"Ahli"}),h(B,null,{header:x(()=>[e("div",S,[t[3]||(t[3]=e("h2",{class:"text-xl font-semibold leading-tight text-white"},"Senarai Ahli",-1)),l(m).props.auth.user.is_admin?(a(),_(l(y),{key:0,href:r.route("members.create"),class:"inline-flex items-center rounded-md bg-sky-500 px-3 py-2 text-sm font-semibold text-white shadow-lg shadow-sky-500/30 hover:bg-sky-400"},{default:x(()=>[...t[2]||(t[2]=[k(" Tambah Ahli ",-1)])]),_:1},8,["href"])):d("",!0)])]),default:x(()=>[e("div",D,[e("div",F,[l(m).props.flash.success?(a(),i("div",H,[e("p",U,n(l(m).props.flash.success),1)])):d("",!0),e("div",z,[e("div",null,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium text-sky-100/80 mb-1"},"Cari",-1)),b(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>u.value=s),type:"text",placeholder:"Cari ahli...",class:"w-full rounded-md border-0 bg-white/10 text-white ring-1 ring-white/15 placeholder-sky-200/40 focus:ring-2 focus:ring-sky-400 sm:w-64"},null,512),[[j,u.value]])]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-sky-100/80 mb-1"},"Kategori",-1)),b(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>o.value=s),onChange:M,class:"w-full rounded-md border-0 bg-white/10 text-white ring-1 ring-white/15 focus:ring-2 focus:ring-sky-400 sm:w-48"},[...t[5]||(t[5]=[e("option",{value:"",class:"bg-sky-900 text-white"},"Semua",-1),e("option",{value:"matc",class:"bg-sky-900 text-white"},"Cabang",-1),e("option",{value:"wanita",class:"bg-sky-900 text-white"},"Wanita Cabang",-1),e("option",{value:"amk",class:"bg-sky-900 text-white"},"AMK",-1),e("option",{value:"mpkk",class:"bg-sky-900 text-white"},"MPKK",-1)])],544),[[L,o.value]])]),o.value?(a(),i("a",{key:0,href:r.route("export.members.pdf",{category:o.value}),class:"inline-flex items-center rounded-md bg-emerald-600 px-3 py-2 text-sm font-semibold text-white shadow-lg shadow-emerald-600/30 hover:bg-emerald-500"}," Muat Turun PDF ",8,I)):d("",!0)]),e("div",O,[e("div",W,[e("table",$,[e("thead",q,[e("tr",null,[t[7]||(t[7]=e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60"},"Nama",-1)),t[8]||(t[8]=e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60"},"No. IC",-1)),t[9]||(t[9]=e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60"},"Kategori",-1)),t[10]||(t[10]=e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60"},"Jawatan",-1)),o.value==="mpkk"?(a(),i("th",E,"MPKK")):d("",!0),t[11]||(t[11]=e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60"},"Telefon",-1)),t[12]||(t[12]=e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60"},"Alamat",-1)),t[13]||(t[13]=e("th",{class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-sky-200/60"},"Tindakan",-1))])]),e("tbody",J,[(a(!0),i(c,null,v(p.members.data,s=>(a(),i("tr",{key:s.id,class:"hover:bg-white/5"},[e("td",G,[h(l(y),{href:r.route("members.show",s.id),class:"text-sky-300 hover:text-sky-200"},{default:x(()=>[k(n(s.name),1)]),_:2},1032,["href"])]),e("td",Q,n(s.ic_number),1),e("td",R,[e("span",X,n(s.category_type==="mpkk"?s.position_name||"MPKK":T[s.category_type]||s.category_type),1)]),e("td",Y,n(s.position_type||"-"),1),o.value==="mpkk"?(a(),i("td",Z,n(s.position_name||"-"),1)):d("",!0),e("td",ee,n(s.phone_number),1),e("td",te,n(s.address||"-"),1),e("td",se,[l(m).props.auth.user.is_admin?(a(),i(c,{key:0},[h(l(y),{href:r.route("members.edit",s.id),class:"text-sky-300 hover:text-sky-200 mr-3"},{default:x(()=>[...t[14]||(t[14]=[k("Ubah",-1)])]),_:1},8,["href"]),e("button",{onClick:ne=>K(s.id),class:"text-red-300 hover:text-red-200"},"Padam",8,ae)],64)):d("",!0)])]))),128)),p.members.data.length?d("",!0):(a(),i("tr",ie,[e("td",{colspan:o.value==="mpkk"?8:7,class:"px-6 py-4 text-center text-sm text-sky-200/50"},"Tiada ahli dijumpai.",8,re)]))])])])]),p.members.links.length>3?(a(),i("div",oe,[(a(!0),i(c,null,v(p.members.links,s=>(a(),i(c,{key:s.label},[s.url?(a(),_(l(y),{key:0,href:s.url,innerHTML:s.label,class:N(["mx-1 rounded border px-3 py-1 text-sm",s.active?"bg-sky-500 text-white border-sky-500":"bg-white/10 text-sky-100 border-white/15 hover:bg-white/20"])},null,8,["href","innerHTML","class"])):(a(),i("span",{key:1,innerHTML:s.label,class:"mx-1 rounded border border-white/10 bg-white/5 px-3 py-1 text-sm text-sky-300/40"},null,8,le))],64))),128))])):d("",!0)])])]),_:1})],64))}};export{ue as default};
