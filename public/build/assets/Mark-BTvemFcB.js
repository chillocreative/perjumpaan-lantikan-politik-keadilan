import{E as k,c as d,e as l,u as s,f as v,g as c,j as e,G as N,p as o,F as x,q as g,k as m,l as V,x as B,z as K,B as y,C as b}from"./app-DT5ftLv7.js";import{_ as S}from"./AuthenticatedLayout-DtLd4MU3.js";const j={class:"flex items-center justify-between"},C={class:"text-xl font-semibold leading-tight text-white"},M={class:"py-12"},D={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},E={class:"overflow-hidden rounded-2xl bg-white/10 shadow-lg backdrop-blur-md ring-1 ring-white/15"},F={class:"min-w-full divide-y divide-white/10"},L={class:"divide-y divide-white/10"},T={class:"whitespace-nowrap px-6 py-4 text-sm text-white"},A={class:"whitespace-nowrap px-6 py-4 text-sm text-sky-200/50"},H={class:"whitespace-nowrap px-6 py-4"},O=["onUpdate:modelValue"],R=["value"],U={key:0},q={class:"mt-6 flex items-center gap-4"},z=["disabled"],$={__name:"Mark",props:{meeting:Object,members:Object,attendances:Array,statuses:Array},setup(r){const u=r,p={};u.attendances.forEach(t=>{p[t.member_id]=t.status});const i=k({meeting_id:u.meeting.id,attendances:u.members.data.map(t=>({member_id:t.id,member_name:t.name,member_ic:t.ic_number,status:p[t.id]||"present"}))});function w(){i.post(route("attendances.store"))}const _={present:"Hadir",absent:"Tidak Hadir",late:"Lewat",excused:"Dimaafkan"};return(t,a)=>(o(),d(x,null,[l(s(v),{title:"Rekod Kehadiran"}),l(S,null,{header:c(()=>[e("div",j,[e("h2",C,"Rekod Kehadiran: "+m(r.meeting.title),1),l(s(y),{href:t.route("meetings.show",r.meeting.id),class:"text-sm text-sky-300 hover:text-sky-200"},{default:c(()=>[...a[0]||(a[0]=[b("Kembali ke mesyuarat",-1)])]),_:1},8,["href"])])]),default:c(()=>[e("div",M,[e("div",D,[e("div",E,[e("form",{onSubmit:N(w,["prevent"]),class:"p-6"},[e("table",F,[a[2]||(a[2]=e("thead",{class:"bg-white/5"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60"},"Nama"),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60"},"No. IC"),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60"},"Status Kehadiran")])],-1)),e("tbody",L,[(o(!0),d(x,null,g(s(i).attendances,(h,f)=>(o(),d("tr",{key:h.member_id,class:"hover:bg-white/5"},[e("td",T,m(h.member_name),1),e("td",A,m(h.member_ic),1),e("td",H,[V(e("select",{"onUpdate:modelValue":n=>s(i).attendances[f].status=n,class:"rounded-md border-0 bg-white/10 text-white ring-1 ring-white/15 focus:ring-2 focus:ring-sky-400 text-sm"},[(o(!0),d(x,null,g(r.statuses,n=>(o(),d("option",{key:n.value,value:n.value,class:"bg-sky-900 text-white"},m(_[n.value]||n.value),9,R))),128))],8,O),[[B,s(i).attendances[f].status]])])]))),128)),s(i).attendances.length?K("",!0):(o(),d("tr",U,[...a[1]||(a[1]=[e("td",{colspan:"3",class:"px-6 py-4 text-center text-sm text-sky-200/50"},"Tiada ahli berdaftar.",-1)])]))])]),e("div",q,[e("button",{type:"submit",disabled:s(i).processing||!s(i).attendances.length,class:"inline-flex items-center rounded-md bg-sky-500 px-4 py-2 text-sm font-semibold text-white shadow-lg shadow-sky-500/30 hover:bg-sky-400 disabled:opacity-50"}," Simpan Kehadiran ",8,z),l(s(y),{href:t.route("meetings.show",r.meeting.id),class:"text-sm text-sky-200/60 hover:text-sky-100"},{default:c(()=>[...a[3]||(a[3]=[b("Batal",-1)])]),_:1},8,["href"])])],32)])])])]),_:1})],64))}};export{$ as default};
