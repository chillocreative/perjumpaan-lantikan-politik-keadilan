import{r as g,w as A,c as i,e as y,u as o,f as U,g as c,j as t,p as a,k as n,z as d,l as b,m as F,x as L,F as m,q as v,B as w,C as _,A as P,y as H,b as S,D as E}from"./app-B583slAp.js";import{_ as z}from"./AuthenticatedLayout-DBlEkb_k.js";import{u as I}from"./useDragScroll-RGJwlJvc.js";const O={class:"flex items-center justify-between"},W={class:"py-12"},$={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},q={key:0,class:"mb-4 rounded-md bg-emerald-400/15 p-4 ring-1 ring-emerald-400/20"},J={class:"text-sm text-emerald-300"},G={class:"mb-4 flex flex-wrap items-end gap-4"},Q={class:"w-full sm:w-auto"},R={class:"w-full sm:w-auto"},X={key:0,class:"w-full sm:w-auto"},Y=["value"],Z=["href"],ee={class:"overflow-hidden rounded-2xl bg-white/10 shadow-lg backdrop-blur-md ring-1 ring-white/15"},te={class:"min-w-full divide-y divide-white/10"},se={class:"bg-white/5"},ae={key:0,class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60 whitespace-nowrap"},oe={class:"divide-y divide-white/10"},ie={class:"whitespace-nowrap px-6 py-4 uppercase"},re={class:"whitespace-nowrap px-6 py-4 text-sm text-sky-200/50 uppercase"},le={class:"whitespace-nowrap px-6 py-4"},ne={class:"inline-flex items-center rounded-full bg-sky-400/15 px-2.5 py-0.5 text-xs font-medium text-sky-300 ring-1 ring-sky-400/20 uppercase"},de={class:"whitespace-nowrap px-6 py-4 text-sm text-sky-200/50 uppercase"},pe={key:0,class:"whitespace-nowrap px-6 py-4 text-sm text-sky-200/50 uppercase"},ue={class:"whitespace-nowrap px-6 py-4 text-sm text-sky-200/50 uppercase"},me={class:"px-6 py-4 text-sm text-sky-200/50 uppercase min-w-[12rem]"},xe={class:"whitespace-nowrap px-6 py-4 text-right text-sm"},ce=["onClick"],ke={key:0},ye=["colspan"],we={key:1,class:"mt-4 flex justify-center"},he=["innerHTML"],_e={__name:"Index",props:{members:Object,filters:Object,mpkkList:Array},setup(u){const h=u,k=E(),x=g(h.filters.search||""),l=g(h.filters.category||""),p=g(h.filters.mpkk||""),{scrollEl:V,onMouseDown:M,onMouseLeave:C,onMouseUp:K,onMouseMove:T}=I();function f(){const r={};x.value&&(r.search=x.value),l.value&&(r.category=l.value),l.value==="mpkk"&&p.value&&(r.mpkk=p.value),S.get(route("members.index"),r,{preserveState:!0,replace:!0})}A(x,()=>f());function j(){p.value="",f()}function D(){f()}A(l,r=>{r!=="mpkk"&&(p.value="")});function N(r){confirm("Adakah anda pasti mahu memadam ahli ini?")&&S.delete(route("members.destroy",r))}const B={matc:"Cabang",amk:"AMK",wanita:"Wanita Cabang",mpkk:"MPKK"};return(r,e)=>(a(),i(m,null,[y(o(U),{title:"Ahli"}),y(z,null,{header:c(()=>[t("div",O,[e[8]||(e[8]=t("h2",{class:"text-xl font-semibold leading-tight text-white"},"Senarai Ahli",-1)),o(k).props.auth.user.is_admin?(a(),P(o(w),{key:0,href:r.route("members.create"),class:"inline-flex items-center rounded-md bg-sky-500 px-3 py-2 text-sm font-semibold text-white shadow-lg shadow-sky-500/30 hover:bg-sky-400"},{default:c(()=>[...e[7]||(e[7]=[_(" Tambah Ahli ",-1)])]),_:1},8,["href"])):d("",!0)])]),default:c(()=>[t("div",W,[t("div",$,[o(k).props.flash.success?(a(),i("div",q,[t("p",J,n(o(k).props.flash.success),1)])):d("",!0),t("div",G,[t("div",Q,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-sky-100/80 mb-1"},"Cari",-1)),b(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>x.value=s),type:"text",placeholder:"Cari ahli...",class:"w-full rounded-md border-0 bg-white/10 text-white ring-1 ring-white/15 placeholder-sky-200/40 focus:ring-2 focus:ring-sky-400 sm:w-64"},null,512),[[F,x.value]])]),t("div",R,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-sky-100/80 mb-1"},"Kategori",-1)),b(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>l.value=s),onChange:j,class:"w-full rounded-md border-0 bg-white/10 text-white ring-1 ring-white/15 focus:ring-2 focus:ring-sky-400 sm:w-48"},[...e[10]||(e[10]=[t("option",{value:"",class:"bg-sky-900 text-white"},"Semua",-1),t("option",{value:"matc",class:"bg-sky-900 text-white"},"Cabang",-1),t("option",{value:"wanita",class:"bg-sky-900 text-white"},"Wanita Cabang",-1),t("option",{value:"amk",class:"bg-sky-900 text-white"},"AMK",-1),t("option",{value:"mpkk",class:"bg-sky-900 text-white"},"MPKK",-1)])],544),[[L,l.value]])]),l.value==="mpkk"?(a(),i("div",X,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-sky-100/80 mb-1"},"MPKK",-1)),b(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>p.value=s),onChange:D,class:"w-full rounded-md border-0 bg-white/10 text-white ring-1 ring-white/15 focus:ring-2 focus:ring-sky-400 sm:w-64"},[e[12]||(e[12]=t("option",{value:"",class:"bg-sky-900 text-white"},"Semua MPKK",-1)),(a(!0),i(m,null,v(u.mpkkList,s=>(a(),i("option",{key:s,value:s,class:"bg-sky-900 text-white"},n(s),9,Y))),128))],544),[[L,p.value]])])):d("",!0),l.value?(a(),i("a",{key:1,href:r.route("export.members.pdf",{category:l.value,mpkk:p.value||void 0}),class:"inline-flex items-center rounded-md bg-emerald-600 px-3 py-2 text-sm font-semibold text-white shadow-lg shadow-emerald-600/30 hover:bg-emerald-500"}," Muat Turun PDF ",8,Z)):d("",!0)]),t("div",ee,[t("div",{ref_key:"scrollEl",ref:V,class:"overflow-x-auto cursor-grab",onMousedown:e[3]||(e[3]=(...s)=>o(M)&&o(M)(...s)),onMouseleave:e[4]||(e[4]=(...s)=>o(C)&&o(C)(...s)),onMouseup:e[5]||(e[5]=(...s)=>o(K)&&o(K)(...s)),onMousemove:e[6]||(e[6]=(...s)=>o(T)&&o(T)(...s))},[t("table",te,[t("thead",se,[t("tr",null,[e[14]||(e[14]=t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60 whitespace-nowrap"},"Nama",-1)),e[15]||(e[15]=t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60 whitespace-nowrap"},"No. IC",-1)),e[16]||(e[16]=t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60 whitespace-nowrap"},"Kategori",-1)),e[17]||(e[17]=t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60 whitespace-nowrap"},"Jawatan",-1)),l.value==="mpkk"?(a(),i("th",ae,"MPKK")):d("",!0),e[18]||(e[18]=t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60 whitespace-nowrap"},"Telefon",-1)),e[19]||(e[19]=t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60 whitespace-nowrap"},"Alamat",-1)),e[20]||(e[20]=t("th",{class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-sky-200/60 whitespace-nowrap"},"Tindakan",-1))])]),t("tbody",oe,[(a(!0),i(m,null,v(u.members.data,s=>(a(),i("tr",{key:s.id,class:"hover:bg-white/5"},[t("td",ie,[y(o(w),{href:r.route("members.show",s.id),class:"text-sky-300 hover:text-sky-200"},{default:c(()=>[_(n(s.name),1)]),_:2},1032,["href"])]),t("td",re,n(s.ic_number),1),t("td",le,[t("span",ne,n(s.category_type==="mpkk"?s.position_name||"MPKK":B[s.category_type]||s.category_type),1)]),t("td",de,n(s.position_type||"-"),1),l.value==="mpkk"?(a(),i("td",pe,n(s.position_name||"-"),1)):d("",!0),t("td",ue,n(s.phone_number),1),t("td",me,n(s.address||"-"),1),t("td",xe,[o(k).props.auth.user.is_admin?(a(),i(m,{key:0},[y(o(w),{href:r.route("members.edit",s.id),class:"text-sky-300 hover:text-sky-200 mr-3"},{default:c(()=>[...e[21]||(e[21]=[_("Ubah",-1)])]),_:1},8,["href"]),t("button",{onClick:fe=>N(s.id),class:"text-red-300 hover:text-red-200"},"Padam",8,ce)],64)):d("",!0)])]))),128)),u.members.data.length?d("",!0):(a(),i("tr",ke,[t("td",{colspan:l.value==="mpkk"?8:7,class:"px-6 py-4 text-center text-sm text-sky-200/50"},"Tiada ahli dijumpai.",8,ye)]))])])],544)]),u.members.links.length>3?(a(),i("div",we,[(a(!0),i(m,null,v(u.members.links,s=>(a(),i(m,{key:s.label},[s.url?(a(),P(o(w),{key:0,href:s.url,innerHTML:s.label,class:H(["mx-1 rounded border px-3 py-1 text-sm",s.active?"bg-sky-500 text-white border-sky-500":"bg-white/10 text-sky-100 border-white/15 hover:bg-white/20"])},null,8,["href","innerHTML","class"])):(a(),i("span",{key:1,innerHTML:s.label,class:"mx-1 rounded border border-white/10 bg-white/5 px-3 py-1 text-sm text-sky-300/40"},null,8,he))],64))),128))])):d("",!0)])])]),_:1})],64))}};export{_e as default};
