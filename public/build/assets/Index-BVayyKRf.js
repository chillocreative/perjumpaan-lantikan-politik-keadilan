import{r as h,c as i,e as k,u,f as M,g as x,j as e,p as a,k as r,z as l,l as w,F as c,q as b,x as f,A as P,B as A,C as N,y as S,D as V,b as j}from"./app-Cb6Evytk.js";import{_ as B}from"./AuthenticatedLayout-B_btGsaM.js";const D={class:"py-12"},F={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},O={key:0,class:"mb-4 rounded-md bg-emerald-400/15 p-4 ring-1 ring-emerald-400/20"},T={class:"text-sm text-emerald-300"},z={class:"mb-4"},I=["value"],L={key:1,class:"mb-4"},R={key:2,class:"overflow-hidden rounded-2xl bg-white/10 shadow-lg backdrop-blur-md ring-1 ring-white/15"},U={class:"p-6"},W={class:"flex items-center justify-between mb-4"},q={class:"text-lg font-medium text-white"},E={class:"flex items-center gap-2"},J=["href"],$={class:"overflow-x-auto"},G={key:0,class:"min-w-full divide-y divide-white/10"},H={class:"bg-white/5"},Q={key:0,class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60"},X={class:"divide-y divide-white/10"},Y={class:"whitespace-nowrap px-6 py-4 text-sm text-white uppercase"},Z={class:"whitespace-nowrap px-6 py-4 text-sm text-sky-200/50 uppercase"},ee={class:"whitespace-nowrap px-6 py-4 text-sm text-sky-200/80 uppercase"},te={class:"whitespace-nowrap px-6 py-4 text-sm text-sky-200/50 uppercase"},se={key:0,class:"whitespace-nowrap px-6 py-4 text-sm text-sky-200/50 uppercase"},ae={class:"px-6 py-4 text-sm text-sky-200/80 uppercase"},ie={class:"whitespace-nowrap px-6 py-4"},re={key:0,class:"text-sm text-sky-200/50"},ne={key:3,class:"overflow-hidden rounded-2xl bg-white/10 shadow-lg backdrop-blur-md ring-1 ring-white/15"},de={__name:"Index",props:{meetings:Object,meeting:Object,attendances:Array,filters:Object},setup(o){const g=o,p=V(),d=h(g.filters.meeting_id||""),n=h(g.filters.category||"");function y(){const m={meeting_id:d.value};n.value&&(m.category=n.value),j.get(route("attendances.index"),m,{preserveState:!0,replace:!0})}function v(){n.value="",y()}function _(){y()}const C={matc:"Cabang",amk:"AMK",wanita:"Wanita Cabang",mpkk:"MPKK"},K={present:"bg-emerald-400/15 text-emerald-300 ring-1 ring-emerald-400/20",absent:"bg-red-400/15 text-red-300 ring-1 ring-red-400/20",late:"bg-yellow-400/15 text-yellow-300 ring-1 ring-yellow-400/20",excused:"bg-white/10 text-sky-200 ring-1 ring-white/15"};return(m,t)=>(a(),i(c,null,[k(u(M),{title:"Kehadiran"}),k(B,null,{header:x(()=>[...t[2]||(t[2]=[e("h2",{class:"text-xl font-semibold leading-tight text-white"},"Rekod Kehadiran",-1)])]),default:x(()=>[e("div",D,[e("div",F,[u(p).props.flash.success?(a(),i("div",O,[e("p",T,r(u(p).props.flash.success),1)])):l("",!0),e("div",z,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium text-sky-100/80 mb-1"},"Pilih Mesyuarat",-1)),w(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>d.value=s),onChange:v,class:"w-full rounded-md border-0 bg-white/10 text-white ring-1 ring-white/15 focus:ring-2 focus:ring-sky-400 sm:max-w-md"},[t[3]||(t[3]=e("option",{value:"",class:"bg-sky-900 text-white"},"-- Pilih Mesyuarat --",-1)),(a(!0),i(c,null,b(o.meetings.data,s=>(a(),i("option",{key:s.id,value:s.id,class:"bg-sky-900 text-white"},r(s.title)+" ("+r(s.date)+") ",9,I))),128))],544),[[f,d.value]])]),d.value?(a(),i("div",L,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-sky-100/80 mb-1"},"Kategori",-1)),w(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>n.value=s),onChange:_,class:"w-full rounded-md border-0 bg-white/10 text-white ring-1 ring-white/15 focus:ring-2 focus:ring-sky-400 sm:max-w-md"},[...t[5]||(t[5]=[e("option",{value:"",class:"bg-sky-900 text-white"},"Semua",-1),e("option",{value:"matc",class:"bg-sky-900 text-white"},"Cabang",-1),e("option",{value:"wanita",class:"bg-sky-900 text-white"},"Wanita Cabang",-1),e("option",{value:"amk",class:"bg-sky-900 text-white"},"AMK",-1),e("option",{value:"mpkk",class:"bg-sky-900 text-white"},"MPKK",-1)])],544),[[f,n.value]])])):l("",!0),o.meeting?(a(),i("div",R,[e("div",U,[e("div",W,[e("h3",q,r(o.meeting.title),1),e("div",E,[n.value?(a(),i("a",{key:0,href:m.route("export.attendance.pdf",{meeting_id:d.value,category:n.value}),class:"inline-flex items-center rounded-md bg-emerald-600 px-3 py-2 text-sm font-semibold text-white shadow-lg shadow-emerald-600/30 hover:bg-emerald-500"}," Muat Turun PDF ",8,J)):l("",!0),u(p).props.auth.user.is_admin?(a(),P(u(A),{key:1,href:m.route("attendances.mark",o.meeting.id),class:"inline-flex items-center rounded-md bg-sky-500 px-3 py-2 text-sm font-semibold text-white shadow-lg shadow-sky-500/30 hover:bg-sky-400"},{default:x(()=>[...t[7]||(t[7]=[N(" Rekod Kehadiran ",-1)])]),_:1},8,["href"])):l("",!0)])]),e("div",$,[o.attendances.length?(a(),i("table",G,[e("thead",H,[e("tr",null,[t[8]||(t[8]=e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60"},"Nama Ahli",-1)),t[9]||(t[9]=e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60"},"No. IC",-1)),t[10]||(t[10]=e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60"},"Kategori",-1)),t[11]||(t[11]=e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60"},"Jawatan",-1)),n.value==="mpkk"?(a(),i("th",Q,"MPKK")):l("",!0),t[12]||(t[12]=e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60"},"Alamat",-1)),t[13]||(t[13]=e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-sky-200/60"},"Status",-1))])]),e("tbody",X,[(a(!0),i(c,null,b(o.attendances,s=>(a(),i("tr",{key:s.id,class:"hover:bg-white/5"},[e("td",Y,r(s.member?.name),1),e("td",Z,r(s.member?.ic_number),1),e("td",ee,r(s.member?.category_type==="mpkk"?s.member?.position_name||"MPKK":C[s.member?.category_type]||"-"),1),e("td",te,r(s.member?.position_type||"-"),1),n.value==="mpkk"?(a(),i("td",se,r(s.member?.position_name||"-"),1)):l("",!0),e("td",ae,r(s.member?.address||"-"),1),e("td",ie,[e("span",{class:S(["inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium",K[s.status]||"bg-white/10 text-sky-200 ring-1 ring-white/15"])},r(s.status),3)])]))),128))])])):l("",!0)]),o.attendances.length?l("",!0):(a(),i("p",re,"Tiada rekod kehadiran untuk mesyuarat ini."))])])):(a(),i("div",ne,[...t[14]||(t[14]=[e("div",{class:"p-6 text-center text-sm text-sky-200/50"}," Sila pilih mesyuarat untuk melihat rekod kehadiran. ",-1)])]))])])]),_:1})],64))}};export{de as default};
